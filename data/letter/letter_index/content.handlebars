<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style rel='stylesheet' type='text/css'>
    @font-face {
        font-family: "Siemreap";
        src: url({#asset KhmerOSSiemreapRegular.ttf  @encoding=dataURI});
        format('ttf');
    }
    @font-face {
        font-family: "KhmerOSMuol";
        src: url({#asset KhmerOSMuolLightRegular.ttf  @encoding=dataURI});
        format('ttf');
    }
    @font-face {
        font-family: "Roman";
        src: url({#asset times_new_roman.ttf  @encoding=dataURI});
        format('ttf');
    }
    @font-face {
        font-family: 'Tacteing';
        src: url({#asset Tacteing.ttf @encoding=dataURI});
        format('ttf');
    }

    .keep-together{
        page-break-inside:avoid;
    }

    body {
        font-size: 16px;
        font-family: "Roman", "Siemreap";
    }
    /* FONT */
    .font_muol {
        font-family: "Roman", "KhmerOSMuol";
    }
    .font_siemreap {
        font-family: "Roman", "Siemreap";
    }
    .font_tacteing {
        font-family: "Tacteing";
    }
    /* END FONT */

    /* FONT SIZE */
    .font-base {
        font-size: 16px;
    }
    .text-main {
        font-size: 14px;
    }
    .text-sm-base {
        font-size: 16px;
    }
    .text_xs_sm{
        font-size: 13px;
    }
    .text-xs {
        font-size: 11px;
    }
    /* END FONT SIZE */
    
    /* STYLE CUSTOME INDENT */
    .width-bullet-point{
        width: 25px;
    }
    .indent-text-small {
        text-indent: -9px; 
    }
    .indent-text {
        text-indent: -25px; 
        padding-left: 25px;
    }
    .indent-paragraph{
        text-indent: 75px;
    }
    /* END STYLE CUSTOME INDENT */

    .border-box{
        border: 1px solid black;
    }
    .underline-text{
        text-decoration: underline dashed #175214;
    }

    .draft_watermark {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 10;
        background-image: url("{#asset /asset/images/draft-km.png @encoding=dataURI}"); 
    }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="w-full h-full">
        {{#if (equal is_draft 1)}}
            <div class="draft_watermark bg-auto w-full h-full top-0 h-0 z-20">
            </div>
        {{/if}}

        <main class="leading-7 flex flex-col w-full">
            <div class="flex flex-1 px-12 justify-between text-[#648558] relative">
                <div class="flex flex-col justify-items-center font_muol">
                    <img class="mx-auto w-[90px]" src={{{processTemplateString logo_url this}}}>
                    <p class="text-center leading-8">{{{processTemplateString text_header_one this}}} </p>
                    <p class="text-center leading-6 text-sm-base">{{{processTemplateString text_header_two this}}} </p>
                    <p class="text-center leading-6 text_xs_sm font_siemreap">{{ number }}</p>
                </div>

                <div class="flex">
                    <div class="mt-8">
                        <div class="flex flex-col w-fix font_muol">
                            <p class="text-center leading-6 font-base">{{{processTemplateString text_motto_one this}}}</p>
                            <p class="text-center leading-6 font-base font-bold">{{{processTemplateString text_motto_two this}}}</p>
                            <p class="text-center leading-6 font-base">{{{processTemplateString text_motto_three this}}}</p>
                            <p class="text-center leading-6 font-base font-bold italic">{{{processTemplateString text_motto_four this}}}</p>
                            <p class="text-center leading-6 text-main font_tacteing">{{{processTemplateString text_motto_decorate this}}}</p>
                        </div>
                    </div>
                </div>
                <div class="text-end mt-[75px] text_xs_sm font-normal absolute right-12 bottom-0">
                    <p class="text-end leading-6">{{{processTemplateString date this}}} </p>
                </div>
            </div>
            
            <div class="ml-[80px] mr-[65px] text-sm-base">
                <div class="w-full leading-7">
                    <p class="text-center w-full font_muol">{{ certificate_title }}</p>
                    <p class="text-center w-full font-bold font_siemreap">{{ description }}</p>
                </div> 
                <div class="w-full leading-7">

                    <div class="flex mt-2 ">
                        <div class="flex w-[75px]">
                            <p class="font_muol">{{ subject_title }}</p>
                            {{!-- <span>៖</span> --}}
                        </div>
                        <div class="flex-1 text-left">
                            <p>{{ subject }}</p>
                        </div>
                    </div>

                    <div class="flex mt-2">
                        <div class="w-[75px] flex">
                            <p class="font_muol">{{ reference_title }}</p>
                            {{!-- <span>៖</span> --}}
                        </div>
                        <div class="flex-1 text-left"> 
                            {{#each template_references}}
                                <div class="flex">
                                    <div class="width-bullet-point">
                                        <p>-</p>
                                    </div>
                                    <div class="flex-1 text-left">
                                        <p class="indent-negative-padding">{{data}}។</p>
                                    </div>
                                </div>
                            {{/each}}
                        </div>
                    </div>

                    {{!-- TEMPLATE CONTENT --}}
                    {{#each template_contents}}
                        <p class="text-justify mt-2 {{#if (equal is_paragraph 1)}}indent-paragraph{{/if}}">
                            {{{processTemplateString data this}}}
                        </p>
                    {{/each}}
                
                    {{!-- STATUTE --}}
                    <div class="">
                        <p class="indent-text text-left text-justify mt-2">
                            {{{processTemplateString statute_title this}}}
                        </p>
                    </div>
                   

                    {{!-- INVESTMENT CAPITAL --}}
                    <div class="">
                        <p class="indent-text text-left text-justify mt-2">
                            {{{processTemplateString investment_capital this}}}
                        </p>
                    </div>
                    
                    {{!-- TEMPLATE TITLE --}}
                    <div class="">
                        <p class="indent-text text-left text-justify mt-2">
                            {{{processTemplateString incentive_title this}}}
                        </p>
                    </div>
                    
                    {{!-- INCENTIVE --}}
                    {{!-- DEPRECIATION --}}
                    {{#each template_depreciations}}
                        <div style="{{checkTab tab_count}}">
                            <p class="indent-text-small text-left text-justify">- {{data}}</p>
                        </div>
                    {{/each}}

                    
                    {{!-- INCOME TAX --}}
                    {{#each template_income_taxes}}
                        {{#if (equal tab_count 1)}}
                            <div class="flex" style="{{checkTab 1}}">
                                <div class="width-bullet-point">
                                    <p>-</p>
                                </div>
                                <div class="flex-1 text-left">
                                    <p class="text-left">{{data}}</p>
                                </div>
                            </div>
                        {{else}}
                            <div class="flex" style="{{checkTab 2}}">
                                <div class="width-bullet-point">
                                    <p>&#9900;</p>
                                </div>
                                <div class="flex-1 text-left">
                                    <p class="text-left">{{data}}</p>
                                </div>
                            </div>
                        {{/if}}
                    {{/each}}
                    

                    {{!--START ADDITIONAL INCENTIVE --}}
                    {{#each template_additional_incentive}}
                        <div style="{{checkTab 1}}">
                            <div class="flex">
                                <div class="width-bullet-point">
                                    <p>-</p>
                                </div>
                                <div class="flex-1 text-left">
                                    <p class="text-left">{{translate.km}}</p>
                                </div>
                            </div>
                        </div>
                    {{/each}}
                    {{!-- END ADDITIONAL INCENTIVE --}}
                    
                    {{!-- DUTY TITLE --}}
                    <div class="indent-text">
                        <p class="text-left text-justify mt-2">
                            {{{processTemplateString duty_title this}}}
                        </p>
                    </div>

                    <div class="">
                        {{#each template_duties}}
                            {{#if (equal tab_count 0)}}
                                <p>- {{processTemplateString data this}}</p>
                            {{else}}
                                {{#if (equal is_paragraph 1)}}
                                    <div class="pl-[75px]">
                                        <p class="indent-paragraph text-left mt-2 text-justify">{{processTemplateString data this}}</p>
                                    </div>
                                {{else}}
                                    {{#if (equal tab_count 2)}}
                                        <div class="pl-[150px]">
                                            <div class="flex mt-2">
                                                <div class="width-bullet-point">
                                                    <p>&#9900;</p>
                                                </div>
                                                <div class="flex-1">
                                                    <p class="text-justify">{{{ processTemplateString data this}}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    {{else}}
                                        <div class="pl-[75px]">
                                            <div class="flex">
                                                <div class="width-bullet-point">
                                                    <p>-</p>
                                                </div>
                                                <div class="flex-1 text-left">
                                                    <p class="text-left">{{{processTemplateString data this}}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    {{/if}}
                                {{/if}}
                            {{/if}}
                        {{/each}}
                    </div>


                    {{!-- LETTER MESSAGE --}}
                    <div class="">
                        <p class="indent-paragraph mt-2 text-justify">{{{processTemplateString letter_message_one this}}}</p>
                    </div>

                    
                    <div class="keep-together">
                        <div>
                            <p class="indent-paragraph mt-2 text-justify">{{{processTemplateString letter_message_two this}}}</p>
                        </div>
                        <div class="flex w-full justify-between justify-items-start mt-1">
                            <div class="">
                                {{#if qr_code}}
                                    {{#neq qr_value ""}}
                                        <a href="{{ qr_value }}" target="_blank">
                                            <img src="{{qr_code}}" class="w-14 h-14"/>
                                        </a>
                                    {{else}}
                                        <img src="{{qr_code}}" class="w-14 h-14"/>
                                    {{/neq}}
                                {{else}}
                                    <div class="w-14 h-14"></div>
                                {{/if}}
                                <div class="text-xs leading-5">
                                    <p class="font-bold">{{ copy_to_title }}</p>
                                    {{#each template_copies_to}}
                                        <p class="leading-5">- {{{processTemplateString data this}}}</p>
                                    {{/each}}
                                </div>
                            </div>
                            <div class="flex flex-col items-center font_muol">
                                <p class="text-center leading-8">{{{processTemplateString signature_text this}}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>

